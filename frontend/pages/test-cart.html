<!DOCTYPE html>
<html>
<head>
    <title>Test Cart</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { margin: 5px; padding: 10px; }
        pre { background: #f5f5f5; padding: 10px; }
    </style>
</head>
<body>
    <h1>Cart Debug Test</h1>
    
    <button onclick="addTestItem()">Add Test Item to Cart</button>
    <button onclick="showCart()">Show Cart Contents</button>
    <button onclick="clearCart()">Clear Cart</button>
    <button onclick="goToCart()">Go to Cart Page</button>
    
    <div id="output" style="margin-top: 20px;"></div>
    
    <script>
        function addTestItem() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            const testItem = {
                id: 'test-' + Date.now(),
                name: 'Test Product ' + (cart.length + 1),
                price: 29.99,
                image: 'fas fa-box',
                category: 'Test',
                quantity: 1
            };
            
            cart.push(testItem);
            localStorage.setItem('cart', JSON.stringify(cart));
            
            document.getElementById('output').innerHTML = 
                `<p>Added: ${testItem.name}</p>`;
            
            updateCartCount();
        }
        
        function showCart() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            document.getElementById('output').innerHTML = 
                `<h3>Cart Items (${cart.length}):</h3>
                 <pre>${JSON.stringify(cart, null, 2)}</pre>`;
        }
        
        function clearCart() {
            localStorage.removeItem('cart');
            document.getElementById('output').innerHTML = 
                '<p>Cart cleared</p>';
            updateCartCount();
        }
        
        function goToCart() {
            window.location.href = '/cart';
        }
        
        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            console.log('Cart updated:', totalItems, 'items');
        }
        
        // Show current cart on load
        showCart();
    </script>
</body>
</html>